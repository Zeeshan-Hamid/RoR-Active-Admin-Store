<div class="landing-section text-center text-white bg-primary py-5 ">
  <div class="container">
    <h1 class="display-4 fw-bold">Welcome to Store</h1>
    <p class="lead">Discover the best products with unbeatable prices!</p>
    <%= link_to "Shop Now", "#products", class: "btn btn-light btn-lg mt-3" %>
  </div>
</div>

<div class="container-fluid bg-light pt-5">
  
<div id="products" class="container mb-5">
  <h2 class="text-center mb-5 fw-bold">Our Products</h2>
  <div class="row row-cols-1 row-cols-md-3 g-4">
    <% @products.each do |product| %>
      <div class="col">
        <div class="card h-100 shadow-sm border-0 rounded-4 overflow-hidden">
          <img 
            class="card-img-top" 
            src="<%= product.img %>" 
            alt="<%= product.name %>" 
            style="height: 250px; object-fit: cover;"
          >
          <div class="card-body d-flex flex-column p-4">
            <h5 class="card-title fw-bold text-truncate mb-2"><%= product.name %></h5>
            <p class="card-text text-muted mb-4" style="font-size: 0.9rem;">
              <%= truncate(product.description, length: 100) %>
            </p>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <%= link_to "View", product_path(product), class: "btn btn-outline-info btn-sm px-3" %>
              <% if user_signed_in? %>
                <%= button_to "Add to Cart", cart_items_path(product_id: product.id, quantity: 1), method: :post, class: "btn btn-primary btn-sm px-3" %>
              <% else %>
                <%= link_to "Add to Cart", new_user_session_path, class: "btn btn-primary btn-sm px-3", data: { turbo: false } %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>


</div>